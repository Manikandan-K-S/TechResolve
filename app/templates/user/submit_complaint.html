{% extends 'base.html' %}

{% block title %}Submit Complaint{% endblock %}

{% block content %}
<div class="max-w-3xl mx-auto bg-white p-8 rounded-lg shadow">
    <h2 class="text-2xl font-bold text-blue-600 mb-6">Submit a Complaint</h2>

    <form method="POST" enctype="multipart/form-data" class="space-y-4">
        <!-- Email -->
        <div>
            <label for="email" class="block font-medium mb-1">Official Email <span class="text-red-500">*</span></label>
            <input type="email" name="email" id="email" placeholder="name@psgtech.ac.in"
                   pattern="^[a-zA-Z0-9._%+-]+@psgtech\.ac\.in$" required
                   class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400">
        </div>

        <!-- Name -->
        <div>
            <label for="name" class="block font-medium mb-1">Name <span class="text-red-500">*</span></label>
            <input type="text" name="name" id="name" required
                   class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400">
        </div>

        <!-- Lab -->
        <div>
            <label for="lab" class="block font-medium mb-1">Lab <span class="text-red-500">*</span></label>
            <select name="lab" id="lab" required
                    class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400">
                <option value="" disabled selected>Select Lab</option>
                {% for lab in labs %}
                    <option value="{{ lab.id }}">{{ lab.name }}</option>
                {% endfor %}
            </select>
        </div>

        <!-- Category -->
        <div>
            <label for="category" class="block font-medium mb-1">Category <span class="text-red-500">*</span></label>
            <select name="category" id="category" required
                    class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400">
                <option value="" disabled selected>Select Category</option>
                <option value="Hardware">Hardware</option>
                <option value="Software">Software</option>
                <option value="Network">Network</option>
                <option value="Other">Other</option>
            </select>
        </div>

        <!-- Description -->
        <div>
            <label for="description" class="block font-medium mb-1">Description <span class="text-red-500">*</span></label>
            <textarea name="description" id="description" rows="4" required
                      class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400"
                      placeholder="Describe your issue..."></textarea>
        </div>

        <!-- Attachment -->
        <div>
            <label for="attachment" class="block font-medium mb-1">Attachment (Optional, max 2MB)</label>
            <input type="file" name="attachment" id="attachment"
                   class="w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-400"
                   accept=".jpg,.jpeg,.png,.pdf">
        </div>

        <!-- Submit -->
        <div class="text-center">
            <button type="submit" class="bg-blue-600 text-white px-6 py-2 rounded hover:bg-blue-700 transition">
                Submit Complaint
            </button>
        </div>
    </form>
</div>
{% endblock %}
